function dialogBox(name){var self=this;if(self.dbName=null,self.dbContent=[],self.dbTitle=null,self.dbTriggers=[],self.dbMovable=!1,self.dbOverlayer=!1,self.zIndex=null,self.customDboxStructure=null,self.customTriggerStructure=null,self.host4title=null,self.host4content=null,self.host4triggers=null,self.dbox_structure=function(){return{name:"dialogbox",children:[{name:"dboxheader",properties:[{name:"textContent",value:self.dbTitle}]},{name:"dboxbody",functions:[{function:self.builders.content}]},{name:"dboxfooter",functions:[{function:self.builders.triggers}]}]}},self.dbox_trigger_structure=function(){return{name:"trigger"}},void 0===name){var dbox=null,prefixe="dialogbox",dbox_id=-1,queryName=null;do{dbox_id++,queryName=prefixe+"-"+dbox_id,dbox=document.querySelector('[dialogbox="'+queryName+'"]')}while(null!==dbox);self.dbName=queryName}else self.dbName=name;return self.build=function(structure){var element=document.createElement(structure.name);if(void 0!==structure.classList&&Array.isArray(structure.classList))for(var cl=0;cl<structure.classList.length;cl++)element.classList.add(structure.classList[cl]);if(void 0!==structure.attributes&&Array.isArray(structure.attributes))for(var att=0;att<structure.attributes.length;att++)void 0!==structure.attributes[att].name&&element.setAttribute(structure.attributes[att].name,structure.attributes[att].value);if(void 0!==structure.properties&&Array.isArray(structure.properties))for(var pty=0;pty<structure.properties.length;pty++)void 0!==structure.properties[pty].name&&(element[structure.properties[pty].name]=structure.properties[pty].value);if(void 0!==structure.children&&Array.isArray(structure.children))for(var ch=0;ch<structure.children.length;ch++)element.appendChild(self.build(structure.children[ch]));if(void 0!==structure.methods&&Array.isArray(structure.methods))for(var met=0;met<structure.methods.length;met++)if("string"==typeof structure.methods[met].method){Array.isArray(structure.methods[met].args)||(structure.methods[met].args=[]);for(var abr=structure.methods[met].args,invocation="",fna=0;fna<abr.length;fna++)invocation+=""===invocation?"abr["+fna+"]":", abr["+fna+"]";eval("element[structure.methods[met].method]("+invocation+")")}if(void 0!==structure.functions&&Array.isArray(structure.functions))for(var fn=0;fn<structure.functions.length;fn++)"function"==typeof structure.functions[fn].function&&(Array.isArray(structure.functions[fn].args)||(structure.functions[fn].args=[]),structure.functions[fn].args.push(element),structure.functions[fn].function.apply("",structure.functions[fn].args));return void 0!==structure.host4title&&!0===structure.host4title&&(self.host4title=element),void 0!==structure.host4content&&!0===structure.host4content&&(self.host4content=element),void 0!==structure.host4triggers&&!0===structure.host4triggers&&(self.host4triggers=element),element},self.builders={content:function(e){for(var t=0;t<self.dbContent.length;t++){var r=self.dbContent[t];if(!(r instanceof Element)){var s=document.createElement("p");s.textContent=r,r=s}e.appendChild(r)}},title:function(e){},triggers:function(e){var t=null;t=null!==self.customTriggerStructure&&self.customTriggerStructure instanceof Function?self.build(self.customTriggerStructure()):self.build(self.dbox_trigger_structure());for(var r=0;r<self.dbTriggers.length;r++){var s=t.cloneNode(!0);s.setAttribute("trigger-name",self.dbTriggers[r].name),s.textContent=self.dbTriggers[r].value,s.onclick=self.dbTriggers[r].callback,e.appendChild(s)}t=null}},self.close=function(){var e=document.querySelector('[dialogbox="'+self.dbName+'"]'),t=document.querySelector('[overlayer="'+self.dbName+'"]');e.parentNode.removeChild(e),t.parentNode.removeChild(t),self=null},self.contents=function(){for(var e=0;e<arguments.length;e++)Array.isArray(arguments[e])?self.dbContent.concat(arguments[e]):self.dbContent.push(arguments[e]);return self},self.open=function(e){var t=null;if(t=null!==self.customDboxStructure&&self.customDboxStructure instanceof Function?self.build(self.customDboxStructure()):self.build(self.dbox_structure()),null!==self.customDboxStructure&&(self.builder.title(self.host4title),self.builder.content(self.host4content),self.builder.triggers(self.host4trigger)),t.setAttribute("dialogbox",self.dbName),void 0===e||!Number.isInteger(e)&&isNaN(parseInt(e))||(self.zIndex=parseInt(e)),null!==self.zIndex&&(t.style.zIndex=self.zIndex),document.body.appendChild(t),self.dbOverlayer){var r=document.createElement("overlayer");r.setAttribute("overlayer",self.dbName),null!==self.zIndex&&(r.style.zIndex=self.zIndex-1),document.body.appendChild(r)}},self.overlayer=function(e){return self.dbOverlayer=e,self},self.setCustomDBoxStructure=function(e){self.customDboxStructure=e},self.setCustomTriggerStructure=function(e){self.customTriggerStructure=e},self.title=function(e){return self.dbTitle=e,self},self.trigger=function(){return{add:function(e,t,r,s){self.dbTriggers.push({name:e,value:t,callback:r,event:s})},remove:function(e){},execute:function(e){}}},self.addTrigger=function(e,t,r,s){return self.trigger().add(e,t,r,s),self},self.removeTrigger=function(e){return self.trigger().remove(e),self},self}
